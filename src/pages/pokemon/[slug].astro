---
import { getPokemons, type Pokemon } from "@/api/pokemon";
import ButtonLink from "@/components/ui/ButtonLink.astro";
import Heading from "@/components/ui/Heading.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import type { GetStaticPaths } from "astro";

export const getStaticPaths = (async () => {
  const pokemons = await getPokemons();
  return pokemons.map(({ name, url }) => ({
    params: { slug: name },
    props: { name, url },
  }));
}) satisfies GetStaticPaths;

const { name, url } = Astro.props;
---

<BaseLayout title={name}>
  <Heading tag="h1" size="6xl" class="mb-8">{name}</Heading>
  <ButtonLink href={url} variant="link" size="lg">
    <Heading tag="h2" size="xl">
      Learn more
    </Heading>
  </ButtonLink>
</BaseLayout>
