---
import Author from "@/components/blogs/Author.astro";
import Badge from "@/components/ui/Badge.astro";
import Card from "@/components/ui/card/Card.astro";
import CardDescription from "@/components/ui/card/CardDescription.astro";
import CardHeader from "@/components/ui/card/CardHeader.astro";
import CardTitle from "@/components/ui/card/CardTitle.astro";
import type blogs from "@/data/blogs.json";
import { Image } from "astro:assets";

type Props = (typeof blogs)[number];

const { author, category, description, hero, time, title } = Astro.props;
---

<Card class="relative pt-0 grid grid-rows-subgrid row-span-3">
  <Image
    src={`/${hero}`}
    alt={title}
    width={400}
    height={400}
    class="relative z-20 aspect-video w-full object-cover brightness-80"
  />
  <CardHeader
    class="grid has-data-[slot=card-description]:grid-rows-[auto_1fr_1fr]">
    <Badge class:list={[category.toLocaleLowerCase(), "mb-2"]}>
      {category.toLocaleUpperCase()}
    </Badge>
    <CardTitle>{title}</CardTitle>
    <CardDescription>{description}</CardDescription>
  </CardHeader>
  <Author time={time} {...author} />
</Card>

<style>
  .technology {
    --primary: oklch(0.6 0.12 221);
    --primary-foreground: oklch(0.985 0 0);
  }

  .popular {
    --primary: oklch(0.45 0.12 275);
    --primary-foreground: oklch(0.985 0 0);
  }

  .design {
    --primary: oklch(0.54 0.18 325);
    --primary-foreground: oklch(0.985 0 0);
  }
</style>
